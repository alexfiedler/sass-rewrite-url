$relative-url-fn: relative-url-noop !default;

// Redefine url to process relative paths with $relative-url-fn
@function url($path) {
  @if not url-is-absolute($path) {
    $path: call($relative-url-fn, $path);
  }
  @return "url(#{$path})";
}

@function url-is-absolute($path) {
  @return str-index($path, '//') != null;
}

@function relative-url-noop($path) {
  @return $path;
}

